---
layout: single
title: Project Updates and CSCI 1310 Project Post-Mortem
---
# Project Updates

Now that thanksgiving break is over and I have access to my desktop, I will be returning to working on some projects. I still have finals coming up (in 2 weeks), so I don&#39;t have a whole lot of time. Next week I also have a phone interview with Google for an internship, so I will be spending at least some time studying for that too. While I still want to continue to work on my rendering engine, I am looking at working on a few other projects either simultaneously with the rendering engine or before I go back to work on it. Some of the ideas I have been thinking about:

- I have been learning NASM assembly and have been enjoying it a lot, so I want to do some project using that
- I have been looking over my old ChessAI and I am thinking about writing a new one
- I am interested in making my own implementation of RSA and using it in something like a network chat app
- I have been reading a bit about neural nets and want to try to build a simple one

I don&#39;t know which of these projects I will actually end up working on, but I have been fiddling around with some of the basic pieces of them for the last couple weeks.

As far as the rendering engine is concerned, I have decided that the math component should probably be its own library, so that needs to be refactored some. I also want to rewrite the matrix classes to be a little bit more expandable, perhaps making Matrix4 and Matrix3 inherit from a generic Matrix class that takes size parameters. There are a couple issues to work out here, such as the necessity of slow dynamic memory for a generic matrix class. Since performance is very important for Matrix3 and Matrix4, it is highly preferable that they use stack memory to avoid context switches in inner loops of the renderer. Another way I might solve this is through the creation of a custom allocator for the matrices that minimizes the necessity of context switches.

Now, it&#39;s final time for the post-mortem on my CSCI 1310 Project 1!

# CSCI 1310 Project 1 Post-Mortem

For my programming class I was given an open-ended assignment asking me to make a game in C++ that met a number of technical requirements. The assignment didn&#39;t have any requirements for the game (such as being winnable or having any sort of challenge) except that the game be interactive. We were given two weeks to complete the assignment. For my project, I decided to make a Doom 1993 like pseudo-3d rendering engine. You can find the [source on my GitHub](https://github.com/Spaceman1701/CSCIGameProject) and [the demo video on YouTube](https://www.youtube.com/watch?v=jx1Zs0Q4ulA&amp;t=1s). For the most part, I think the project was a success. After explaining what the project is, I want to briefly discuss some of the reasons behind some of the overarching rendering decisions I made and then look at the map data structure and map loading, which are the two areas which I think could be improved the most.

 ![](data:image/*;base64,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)

A screenshot of the final project

### What it is

The project is a Doom-like 3D rendering engine. By Doom-like, I mean that it is only capable of rendering vertical walls and horizontal floors. It is a software renderer, and only uses hardware acceleration (provided by the SDL library) for displaying the final framebuffer on the screen. The project also uses SDL to open a window and get input from the keyboard. Like Doom, the project separates complex maps into more simple sectors. Each sector is made up of a set of walls. Unlike doom, which uses a binary space partition tree as a map database, the project uses a structure similar to a linked list. While every sector is stored in a ```std::vector``` in the map class, this structure is only used to at the time of map deletion. In the sectors, some walls are portals, which store a reference to another sector. The renderer uses these links between sectors to traverse the map. Each sector can have its own floor and ceiling heights and colors.  Each wall can also have its own color. When the project renders the scene, it uses a rendering queue to decide the order that sectors are rendered. It starts by queuing the sector that the player is in for rendering. Then, if the sector has any portals, it queues the sectors connected by these portals. This results in sectors being rendered from closest to the player to furthest, which minimizes overdraw (when one pixel is written to more then once). This process is repeated until there are no more sectors to render. Since the project is intended to render maps that only have a few sectors, this is a sufficient end condition. It would have been simple to detect whether every pixel was drawn and use this as an end condition to the rendering loop if more complex maps were required. Because the renderer does not sort walls in each sector, sector must be convex to avoid rendering artifacts. Using this system, the renderer can renderer fairly complex scenes with a lot of variety.

On a lower level, the renderer is similar to a scanline renderer. The core rendering function draws a vertical line at a given x coordinate between two heights. Using some simple math, this can be used to represent every structure the renderer needs to represent.

 ![](data:image/*;base64,iVBORw0KGgoAAAANSUhEUgAAAoQAAAHzCAYAAAC5eAyrAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAByISURBVHhe7dx7c13VfcdhXmALtAzTTv6gMx3aMbcADoEaCA1x7EJwAsEQQpKShMYQGwM22MbYmGsChIvxHcs2vuArl7yG1f3bRkLIS/KRdHTO2ns9v888HQS+SEc+0ncOpFc899xzKWzYsCGtXbs2nTp1CgCACsT227hxY7riwQcfTCH+xsmTJwEAqEhswCueeeaZtG7duvaNEydOAABQkXYQvr97f3r3o73tG8ePHwcAoCLtIIwx+NcP97RvfPbZZwAAVKQdhDEG33l/d/vGsWPHAAoykXa/+qf0yP13pluWLUvLlt2Qbr3r/rR249/SRPbHA9RjxYoVrd27d0/9vfjryb8//cfOpR2EMQbfeu+j9o2jR48CFGIiffziz9L32yF4a/rRQ2vTrx77RVr1X3emh3cdS2c/P575OQD1ePTRR1uTo3ByDE7+/dzPyWkHYYzBN/76QfvGkSNHBrJmzZp03XXXZT388MPZnwMwL/t3pkdujTG4Iv3hb5+nr77+Kn1x/lw6d+5cOv/Fl+n8yaPpyOG9adfTa9KPfnBL8+OaH/v9FemhP72R9k0cSYd3v5D+u/l79z61IT35k9vTDc1f33TXQ2ndzu3pD6t/2L594w9Wpz++sS9NtL/nRNr3xrr083tubX+tG267Lz36/LvpYPNrZd8/gDE7e/bsd0bh9DEY/yz3c3LaQRhjcNfb77VvTExMDOTLL79sR+Hy5cu/4/HHH09ff/119ucAzMfBt36dfhDDbPXOdOKrL9KZ40czP+5geuf3K9OPf/FUWv/8uvTIHTEg70x//KD5Zx8/3w7CZctuTj/57bPpz0/8qB2B8a+d7/nl0+nZ/12Zboq3f7wp7f/saDMgt6SHbmnevqUZiZtfSk+vvrn5sXel3793OB255PcFGNxtt902p9zPGdT0UTh9DOZ+7GzaQfj6O++nnW++275x+PDhgcRvdObMmbRq1ap07733tuKVwRiKuR8PMF/7dqxJNzeD7fYnP0rnzk+kbStjzH3jvo3pw0Pf/tijn59PF86dSp+sv7cdfA++fSqd2rPx4iC88+m098LX6fyR7WlVvH37E+nDs1+nL46/lR75fvP2HU+l3WdOpn1bVqUbm3++4tl96cz5M+nYe0+lO+PtdXvTiWMT33nfAOZj9erVc8r9nEHFvybetGnT1BiMv46/l/uxs2kH4WtvvZt2vPGX9o1PP/10YPGvbQ4cOJAeeOCBdgzGQIyhmPuxAPO1//XH0/JmkN245q108vTh9M4zT6THHludbo1R95Pt6bNzJ9LhfX9JG3+1Kt29/JZ00w03TA3GB946nc7u/eYVwvixF06no3u2pdU3Nm/fsyEdOnc2Hdu/K/3ytubt5b9Lu89+nj5ad8+3g3OaGKSnPz+afR8BBhH/9nQuuZ8ziJn/zeCkyf+mMPdzctpBGK8Obt/1dvvGoUOH5iVeEXz99dfbdRkDMfdjABbi4McvpQduakbZzQ+krQeOpMPN35s4uDWtjKHWDsLP0kd/vq8dbT9YuzV9cPBQ+uDZi6Pu4iD85hXCn+5IJ84fTxOfbL04CO/dmD49dyod2ffat4Pw3Om0b/NP21cI7/7jm+mjjz9OH7d2p71HzqYvzjSDcMb7BzBuM/+bwen/+jj+We7n5LSDMF4d3LbzzfaNgwcPztvf//73dgzm/hnAgh3Yk3b99u6Lr9TdfE9aveYXac2quy/+d3/fDML318W/Il6Wbv/5M+nFDb9L/3N788+atycH4X3xY2MQnjuePt09fRCeTBN7d6ZHpg3CIx9tTj+Lf4V8y8r0m3Xr07PP/CH95pdr0/r3D6cjh5uBmnsfAcZo+hic/HvTR+H0HzuXdhDGq4NbXn29fSP+FTBAMfZ/mHaufzyt/OFNF4fhspvS7StWpsee/ySdaQbhwY+2pSfvv639Zzff9VD6vy3PpvuX3XBxEO55btog/Cwd2r0lrZochGdPpsN7dnw7CM82g/Dg/rT7zefSr1becXF0Nr/O7fc9nrYdOJWOH868bwBjduHChXYAzvz78ffin838+7NpB2G8Ovjy9l3tG/v37wcoy4GD6ciJM+n8l9/+9zZffnE+nTkxkQ42//zAwSPp1Pkv27//1Rdn04ljJ9L55q/PHT2YDhz6rP3rr8834zF+rebHnv2qefvCifTpgfi1J9Lp+HW/PJ0m4u3mxxw8fDydbn69ryZ/rwufp2OfHrj0/QLoiXYQbt3xRnrpldfaN/bt2wcAQEXaQbhl+660edvO9o29e/cCAFCRdhDGvy5+ccur7Rt79uwBAKAi7SCMVwdfeHl7+8Ynn3wCAEBFpgbh85u3tW/E/xNDAADq0Q7CTVt3pI2bt15844orAACoSLsB478ffG7TFoMQAKA2Te0GjP9+cMOLL198Q5IkSd0vN/5ymi4OwpdeSetfMAglSZL60qAXP7bdgPE/KPnz8y8ZhJIkSX3oCoNQkiSp3uYxBuPi5xiEkiRJPWq+Fz/HIJQkSepL83x1MC5+nkEoSZLUkxZy8fMMQkmSpD60gFcH4+LnGoSSJEldb4FjMC5+vkEoSZLU8RZz8fMNQkmSpC63iFcH4+LXMAglSZI63GIvfg2DUJIkqast8tXBuPh1DEJJkqQuNoQxGBe/lkEoSZLUwYZ18WsZhJIkSV1rSK8OxsWvZxBKkiR1rGFe/HoGoSRJUpca4quDcfFrGoSSJEldachjMC5+XYNQkiSpIy3Fxa9rEEqSJHWhJXh1MC5+bYNQkiSpAy3Vxa9tEEqSJJXeEr06GBe/vkEoSZJUcks4BuPi9zAIJUmSCm6pL34Pg1CSJKnUlvjVwbj4fQxCSZKkQhvFxe/TbsD/vPfxtOa+mw1CSZKkUhrBq4Nx8Xu1G/Dfrrwy/csPnzAIJUmSSmhEYzAufr92Ay7/1++l5b9+wSCUJEkqoFFe/H7tBrzje9elFb990SCUJEkadyN8dTAufk+DUJIkqaBGffF7GoSSJEmlNOJXB+Pi9zUIJUmSSmgMYzAufu92A/r/QyhJkjTexnXxexuEkiRJ425Mrw7Gxe9vEEqSJI25cV78/gahJEnSOBvjq4Nx8T4YhJIkSeNqzGMwLt4Pg1CSJGlMlXDxfhiEkiRJ46iAVwfj4n0xCCVJksZQKRfvi0EoSZI06gp5dTAu3h+DUJIkaZQVNAbj4n0yCCVJkkZYaRfvk0EoSZI0qgp7dTAu3i+DUJIkaUSVePF+GYSSJEmjqMBXB+PifTMIJUmSlrpCx2BcvH8GoSRJ0hJX8sX7ZxBKkiQtZQW/OhgX76NBKEmStISVfvE+GoSSJElLVeGvDsbF+2kQSpIkLUUdGINx8b62G/Dqq65KV1377wahJEnSkOrKxfvabsD1m7emp59caRBKkiQNo468OhgX72+7AS/+K+ONBqEkSdIQ6tLF+zttEL5oEEqSJC22Dr06GBfvs1cIJUmShlXHxmBcvN/tBvTfEEqSJC2+Ll683+0G/Ker/a+MJUmSFlUHXx2Mi/e93YD+/xBKkiQtrq5evO8GoSRJ0mLr6KuDcfH+G4SSJEmLqcNjMC4+BoNQkiRpEXX94mMwCCVJkhZax18djIuPwyCUJElaYH24+DgMQkmSpIXUg1cH4+JjMQglSZLmW0/GYFx8PAahJEnSPOvTxcdjEEqSJM2nHr06GBcfk0EoSZI0j/p28TEZhJIkSYPWs1cH4+LjMgglSZIGqYdjMC4+NoNQkiRpgPp68bEZhJIkSZerp68OxsXHZxBKkiRdpj5ffHwGoSRJ0lz1+NXBuPgYDUJJkqTZ6vkYjIuP0yCUJEmapRouPk6DUJIkKVcFrw7GxcdqEEqSJGWq5eJjNQglSZJmVsmrg3Hx8RqEkiRJ06toDMbFx2wQSpIkTau2i4/ZIJQkSZqsslcH4+LjNgglSZK+qcaLj9sglCRJiip8dTAuPnaDUJIkqdIxGBcfv0EoSZKqr+aLj98glCRJdVfxq4Nx8RgYhJIkqepqv3gMDEJJklRvlb86GBePg0EoSZLqzBhsLx4Lg1CSJFWZu3jxWBiEkiSpvrw6OHXxeBiEkiSputy3F4+HQShJkurKq4PfuXhMDEJJklRPxuAlF4+LQShJkqrJXXrxuBiEkiSpjrw6mL14bAxCSZJURS5/8dgYhJIkqf95dXDWi8fHIJQkSf3OGJzz4jEyCCVJUq9zc188RgahJEnqb14dvOzF42QQSpKk3uYuf/E4GYSSJKmfeXVwoIvHyiCUJEn9yxgc+OLxMgglSVLvcoNfPF4GoSRJ6ldeHZzXxWNmEEqSpF7l5nfxmBmEkiSpP3l1cN4Xj5tBKEmS+pExuKCLx84glCRJvcgt7OKxMwglSVL38+rggi8eP4NQkiR1Prfwi8fPIJQkSd3Oq4OLungMDUJJktTdjMFFXzyOBqEkSepsbvEXj6NBKEmSuplXB4dy8VgahJIkqZO54Vw8lgahJEnqXl4dHNrF42kQSpKkbmUMDvXiMTUIJUlSp3LDvXhMDUJJktSdvDo49IvH1SCUJEmdyQ3/4nE1CCVJUjfy6uCSXDy2BqEkSSo/Y3DJLh5fg1CSJBWfW7qLx9cglCRJZefVwSW9eIwNQkmSVHRuaS8eY4NQkiSVm1cHl/zicTYIJUlSmRmDI7l4rA1CSZJUZG40F4+1QShJksrLq4Mju3i8DUJJklRcbnQXj7dBKEmSysqrgyO9eMwNQkmSVE7G4MgvHneDUJIkFZMb/cXjbhBKkqQy8urgWC4ee4NQkiQVkRvPxWNvEEqSpPHn1cGxXTz+BqEkSRpvxuBYLz4HBqEkSRprbrwXnwODUJIkjS+vDo794vNgEEqSpLHlxn/xeTAIJUnSePLqYBEXnwuDUJIkjT5jsJiLz4dBKEmSRp4r5+LzYRBKkqTR5tXBoi4+JwahJEkaaa6si8+JQShJkkaXVweLu/i8GISSJGk0GYNFXnxuDEJJkrSorr/++oEYhGVefA4NQkmSdEm5QbdYBmGZF59vg1CSpErKjbRRMgjLvPizYRBKktThcsOrVAZhmRd/jgxCSZIKKzem+sAgLPPiz5xBKEnSCMoNpNoYhGVe/Pk0CCVJWmC50cPsDMIyL/4sG4SSJE0rN2QYDoOwzIs/9wahJKmKcgOF0TIIy7x4fhiEkqTOlhsdlMsgLPPiuWQQSpKKKjck6AeDsMyL551BKEla8nLjgPoYhGVePEcNQknSgsp9w4e5GIRlXjyfDUJJ0lS5b+IwLAZhmRfPfYNQknpe7hszjINBWObF1wmDUJI6WO6bLZTOICzz4muKQShJhZT7Bgp9YhCWefH1xyCUpCUu940RamQQlnnxdcoglKQFlPtmB8zNICzz4muaQShJ35T7BgYMj0FY5sXXP4NQUq/LfVMCxsMgLPPia6VBKKlz5b7RAOUzCMu8+LpqEEoqotw3D6BfDMIyL74GG4SSlqzcNwSgXgZhmRdfrw1CSfMq90UeYBAGYZkXX9sNQknZL9wAw2YQlnnxfcAglHpc7gsywLgYhGVefL8wCKWOlfsiC9AFBmGZF99bDEKpgHJfOAH6xiAs8+L7kEEoLVG5L4YANTMIy7z4nmUQSvMo9wUOgMEYhGVefH8zCFV9uS9aAAyfQVjmxfdCg1C9LPeFCIDxMgjLvPi+aRCqOzVfSAaV+0IEwHjF12dX3jXfOQ1CjbkZQ24u87nczw+5L1AAjEZ8HXblXfMd0iDUEjVjiM1m1Jd7H0LuCxcAwxVfb115F58Xg1CDN21AXU7XLvcxhNwXNAAWJr6uuvIuPi+XDsJp3wznpH6U+9zOosbLPQ4h94UOgLnF109X3sXn5ZJBOOhN/+Y4K42n3OdiFm5hl3ssQ+4LIAAXxddJV97F52XBg3CQm/6Nck66fLnHbRZufJf7fITcF0aA2sTXQ1fexedlSQfhoDf9G+ec+lbuY5yF6/blPqch9wUToK/i654r7+LzUsQgHPSmfyOd0zjLvT+zcC735yLkvpACdF18fXPlXXxeOjUIB73p31hnNZ9yP38Wzg3jcn+2Qu4LLMC45b5ezcaVd/F56eUgHORm/gGdi3OlXO7PZ8h9gQbIyX0NWaxBbz4/1o3u4vNS9SB0ri83+UV5ptw3A6Abcs/pYRjnjfv3d/mLz4tB6FyPb/IbwEy5bz7AwuWeZ4vVx+vrx9X1i8+LQehchTf5DWem3Dc66JPcn/thcIOdx6rMi8+LQeicm7rJb24z5b6xwlLL/VlcLDfe8zko8+LzYhA65y57k99MZ8p9E6dOuT8fi+X6dz6vZV58XgxC59yCb/Ib90y5wUAZcp+vYXBukPNnpcyLz4tB6Jwb+k2OhJlyA4XZ5R7DxXJunOfPYJkXnxeD0Dk3spscJTPlxlCX5D6mYXCub+fPdZkXnxeD0Dk39pscQNPlhtcw5H6vxXLODXaeL2VefF4MQudckTc5tobNOTe+8xws8+LzYhA654o8z1Hn+nee12WeQeicK/Y8R53r33lel3kGoXOu2PMcda5/53ld5hmEzrliz3PUuf6d53WZZxA654o9z1Hn+nee12WeQeicK/Y8R53r33lel3kGoXOu2PMcda5/53ld5hmEzrliz3PUuf6d53WZZxA654o9z1Hn+nee12WeQeicK/Y8R53r33lel3kGoXOu2PMcda5/53ld5hmEzrliz3PUuf6d53WZZxA654o9z1Hn+nee12WeQeicK/Y8R53r33lel3kGoXOu2PMcda5/53ld5hmEzrliz3PUuf6d53WZZxA654o9z1Hn+nee12WeQeicK/Y8R53r33lel3kGoXOu2PMcda5/53ld5hmEzrliz3PUuf6d53WZZxA654o9z1Hn+nee12WeQeicK/Y8R53r33lel3kGoXOu2PMcda5/53ld5hmEzrliz3PUuf6d53WZNzUIr77q6nTNdcsNQudcMec56lz/zvO6zJsahOs3bU6/XvkfBqFzrpjzHHWuf+d5XeZNDcL2Xxmve8QgdM4Vc56jzvXvPK/LvKlBeO2116Zrrvlng9A5V8x5jjrXv/O8LvOmBqH/UYlzrrTzHHWuf+d5XeZNDcJnNjWDcONGg9A5V8x5jjrXv/O8LvOmBuFVV16Z/uEfrzEInXPFnOeoc/07z+syb2oQ+lfGzrnSznPUuf6d53WZZxA654o9z1Hn+nee12WeQeicK/Y8R53r33lel3kGoXOu2PMcda5/53ld5hmEzrliz3PUuf6d53WZZxA654o9z1Hn+nee12WeQeicK/Y8R53r33lel3kGoXOu2IvnKAybG+/5HJR58XkxCJ1zl73Jb6ajdP3118PQ5f6sMVquvIvPi0HoXIdu+hfVUcp9YwWYr/h64sq7+LwYhM4t4CaH0qjlvsACdEV8HXPlXXxeDELX6ZscSqOW+0IHwNzi66cr7+LzUvUgLFnXLvcxjELuCw4AZYqv2668i8/LyAfh9G/m49T8n6Ll3ueS5Z74ADBdfL9w5V18Xi4ZhNO/yS+F5v/QA7knOgDMpd0BrrxrPi+XvkI47Zs+dFXuCxEA42UQFnrN58UghDHIfaEE6DuDsNBrPi8GIXCJ3BdygMUyCAu95vNiEAKdk/tGA5TPICz0ms+LQQgwZLlvhIBBWOw1nxeDEKAyuW/UMAoGYaHXfF4MQgCKkhsS9INBWOg1nxeDEADmITd0GIxBWOg1nxeDEAB6JDfESmEQFnrN58UgBABGIgbhJFfQNZ8PgxAAGDnDsKBrPg8GIQAwNoZhAdc8/gYhADB2huEYr3ncDUIAoBiG4RiuebwNQgCgOIbhCK95nA1CAKBYhuEIrnl8DUIAoHiG4RJe87gahABAZ0wOQ+NwiNc8lgYhANBJhuGQrnkMDUIAoNMMw0Ve89gZhABALxiGC7zmMTMIAYBeMQznec1jZRACAL1kGA54zWNkEAIAvWYYXuaax8YgBACqYBjOcs1jYhACAFWZHIbG4TfXPA4GIQBQLcOwuebjNwgBgOpVPQybj9sgBAD4RpXDsPl4DUIAgBmqGobNx2kQAgDMooph2Hx8BiEAwGX0ehg2H5dBCAAwoF4Ow+bjMQgBAOZpchj2Yhw2H4NBCACwCJ0fhs37bhACAAxBZ4dh8z4bhAAAQ9S5Ydi8rwYhAMAS6MwwbN5HgxAAYAkVPwyb980gBAAYgWKHYfM+GYQAACNU3DBs3heDEABgDCaH4djHYfP7G4QAAGM21mHY/L4GIQBAIcYyDJvfzyAEACjMSIdh8/sYhAAAhRrJMGx+fYMQAKBwSzoMm1/XIAQA6IglGYbNr2cQAgB0zFCHYfPrGIQAAB01OQwXNQ6bn2sQAgD0wIKHYfNzDEIAgB6Z9zBsfqxBCADQQwMPw+bHGIQAAD122WHY/DODEACgArMOw+bvGYQAABW5ZBg2f20QAgBUaGoYNgxCAIDKGYQAAJUzCAEAKmcQAgBUziAEAKicQQgAUDmDEACgcgYhAEDlDEIAgMoZhAAAlTMIAQAqZxACAFTOIAQAqJxBCABQOYMQAKByBiEAQOUMQgCAyhmEAACVMwgBACpnEAIAVM4gBAConEEIAFA5gxAAoHIGIQBA5QxCAIDKGYQAAJUzCAEAKmcQAgBUziAEAKicQQgAUDmDEACgcgYhAEDlDEIAgMoZhAAAlTMIAQAqZxACAFTOIAQAqJxBCABQOYMQAKByBiEAQOUMQgCAyhmEAACVMwgBACpnEAIAVM4gBAConEEIAFA5gxAAoHIGIQBA5QxCAIDKGYQAAJUzCAEAKmcQAgBUziAEAKicQQgAUDmDEACgcgYhAEDlDEIAgMoZhAAAlTMIAQAqZxACAFTOIAQAqJxBCABQOYMQAKByBiEAQOUMQgCAyhmEAACVMwgBACpnEAIAVM4gBAConEEIAFA5gxAAoHIGIQBA5QxCAIDKGYQAAJUzCAEAKmcQAgBUziAEAKicQQgAUDmDEACgcgYhAEDlDEIAgMoZhAAAlTMIAQAqZxACAFTOIAQAqJxBCABQOYMQAKByBiEAQOUMQgCAyhmEAACVMwgBACpnEAIAVM4gBAConEEIAFA5gxAAoHIGIQBA5QxCAIDKGYQAAJUzCAEAKmcQAgBUziAEAKicQQgAUDmDEACgcgYhAEDlDEIAgMoZhAAAlTMIAQAqZxACAFTOIAQAqJxBCABQOYMQAKByBiEAQOUMQgCAyhmEAACVMwgBACpnEAIAVM4gBAConEEIAFA5gxAAoHIGIQBA5QxCAIDKGYQAAJUzCAEAKmcQAgBUziAEAKicQQgAUDmDEACgcgYhAEDlDEIAgMoZhAAAlTMIAQAqZxACAFTOIAQAqJxBCABQOYMQAKByBiEAQOUMQgCAyhmEAACVMwgBACpnEAIAVM4gBAConEEIAFA5gxAAoHIGIQBA5QxCAIDKGYQAAJUzCAEAKmcQAgBUziAEAKicQQgAUDmDEACgcgYhAEDl2kH4wkuvpPUvvGwQAgBU6OIgfHl72vCiQQgAUKN2EL645dX03KYtBiEAQIXaQbhp6460cfNWgxAAoELtINy8bWeK/2GJQQgAUJ+pQRj/HaFBCABQn3YQvrx9V4r/jtAgBACoTzsItzSDMF4lNAgBAOrTDsKtO95IL73ymkEIAFChdhBu2/lmin9tbBACANSnHYTbd72dtrz6ukEIAFChdhDueOMvKV4lNAgBAOrTDsKdb76b4lVCgxAAoD7tIHztrXdTvEpoEAIA1Gft2rXp/wFMAhCdd22HbwAAAABJRU5ErkJggg==)

I wish I had a screenshot from earlier in development then this....

### Overarching Rendering Decisions

The first, and most major, overarching decision I made for the project was to use convex sectors connected by portals. This approach differs from my two main inspirations for the project, Doom 1993, and Duke Nukem 3D. In Doom, sectors are preprocessed and split into convex subsectors which are navigated using a binary search tree at runtime. In Duke Nukem, &quot;bunches&quot; of connected walls facing the player are calculated using a sector and portal system every frame. I decided against both of these approaches simply because of time restrictions. The simple convex sector and portal system I used is vastly simpler than either approach.

The main disadvantage of the system I used is that there is no straightforward way to rendering sprites (to represent objects that are not walls, floors, or ceilings) in the world. In Doom, the BSP could be used for sprite clipping, while in Duke Nukem sprite clipping could be done based on the fact that a &quot;bunch&quot; of walls had no holes. Since I didn&#39;t use a BSP and my sectors can have wholes (in the form of portals), sprite clipping is very complex. However, this wasn&#39;t really an issue for me because I did not intend to implement sprite rendering.

Another smaller disadvantage of the convex sector and portal system is that it has the potential to waste time rendering sectors multiple times with some complex arrangement of sectors. This was really a nonissues because I could easily avoid those arrangements, and, even if I didn&#39;t, the performance impact would be negligible.

 ![](data:image/*;base64,iVBORw0KGgoAAAANSUhEUgAAAoUAAAH7CAYAAAC66eX4AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAACiVSURBVHhe7d37j2b1fdhxjNPITdK0adoqbhupUlshRf4hcdof4khNlKiR0khIVaUmUqQoVSMVfIlt7OBiE2oHgzEQG1/AN8x92WUv7C7sLrBrWGAxN3OHxSz3Oxg7f8O3832W8/DM8DnPzPecmTnPOee10kvanZ2Znfk8n/M9731mB07YvXt3qnzjG9+Y8MMPP/zwww8//PBjWD+qzrvxxhvTvn37Jvbv358OHDgwMYnC66+/fvJKr7zyCgAAA1aF4Q033DANxByHJ+zcuXPymy+//DIAACOQ2y8/Mbh3796JHIgnbN++ffIbL730EgAAI5DbLz8xmO3atWsSiCfkF7744osAAIxIbsAvf/nLE+eff/7xKHzhhRcAABiR3ID5WcL8vSXTZwqff/55AABGJDfgc889NwnE/CXlSRTmFwAAMB65AZ944ol09OjR9OMf//h4FD777LMAC+RYeuiWa9JFXzg9feyUU9Ipp5yaPv6ZL6Rv7LwvHQtfH2A8zjjjjImHHnpo+rL88+rls687TxWFOQifeuqp41H4zDPPACyIY+nB3eenv57E4MfT317wjXTJN7+Szvm/p6ev3vpseu3l54O3ARiPr3/96xNVGFZBWL08eptIbsDqWcJjx44dj8Knn356TS688ML0F3/xF6GvfvWr4dsAFHn8ULro4zkIz0hX3Pdy+unPfpp+8sbr6fXXX09v/OSt9MaLz6Snn3o03XrVhelvP/Wxpddbet2/PiNdcM3h9Nixp9NTD12f/t/Sy868bHv6zt99Mp269POPfOaCtOXQzemKc/9m8usPf+rcdOXhx9KxyZ95LD12eEv6+899fPK+Tv3EWenru+5OR5feV/jxAXTstddeWxaGs0GYfy96m0gVhU8++eQ7UZh/shZvvfXWJAxPO+20ZS6++OL0s5/9LHwbgBJH7/h2+lSOs3MPpRd++pP06vPPBK93NB25/Oz0+a9clq7btSVd9OkckaenK+9f+r0Hd02i8JRTPpr+7ntb07Zv/e0kBPOXoD/3tavS1u+fnT6Sf/35Penx555Zish96YKPLf36Y0uhuPeGdNW5H116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9IO098ChdP2NN6ddew+kHXv2peuuvzFt27k3bd2xJ127fXe65rpd6eptO9NVW3ekq67dnq7cMhxf/OIX07e//e2pCy64IB08eBBglG655ZZ08803T9x0003pwIEDaf/+/Wnfvn3phhtumNizZ0/avXt32rVrV9q5c2favn375Gazbdu2ybMQ+dmI/OWpK6+8cvKlqssvv3zyZatLL700fe9735v4zne+M/Gtb31r4pJLLpm4+OKL0ze/+c3whgZjla+JfG3kayRfL7lX8vXz3e9+d3I9ff/7359+afiqq66aXH9btmxJW7dunVyb+TrN12u+dvfu3Tu5nk84fNd9qQrDg4fvSjf94I60/+DhtO/mWydxuGf/wWkc7ty7P23ffePxQNx1wyQQq0jcsv36wfjSl740OagqX/nKV9Lhw4cBRum2226buPXWW9MPfvCDdOjQoWWxOBuKN95447siMcvPRORQzJGYb0qzoZhvWLOxWAVjvqlls+EIHJevi+oayddLvm6qAMyqLwtXEZivvxyC+RnBfH3m6zRfr/nazddwvqZPuOOeB9LhH96/LAxvvvXO6bOGN74dh/mZw937blkWiPkZxNlIHIrzzz9/ejBlX/va19KRI0cARuvOO+9Md9xxR7r99tsncizmSKxCsYrErIrE/MzDykjMN6R8Y1r5bGIVivmZjGw2GCs5HIHj8jWRr5F8reRrpgrAfD3layvLfxnLfynL195sCOa/wOW/0OXrNf8lL1/Ht912W/r/0doqP7zfNpcAAAAASUVORK5CYII=)

A different, less exciting, map

### The Problems with the Map Database

The map database is probably the one area of the project that needs a lot of work before I could consider it &quot;good.&quot; I didn&#39;t really have formal plans for it when I started, which caused it to end up being very messy. At a glance it is difficult to tell exactly how the system even works since both walls and sectors are allocated on the heap by the MapLoader and deleted by different classes. I think this is a bad practice since it makes the code difficult to follow, and can lead to difficult to find memory bugs. Furthermore, Walls that are portals store pointers directly to the sector they represent. This means that Walls that are improperly initialized or deleted can cause hard to track bugs. A system where portals store an index to an array of sectors could at least cause a fast fail that is more easily detected. It would also make more sense to have a system like this since Sector pointers are stored in an ```std::vector``` anyway.

The map database was the main source of bugs during development. Because of its extensive use of heap allocated variables and the way it spreads around pointers, it caused many odd memory bugs that were very hard to track down.

### The Map Loader

The MapLoader is another interesting part of the project because it ended up having more features than I had originally planned. Originally, I planned on just loading a list of vertices and sectors from a file. Eventually I decided that it would be easier to define maps manually if the files had a little more structure to them. In the end, the file format I devised is actually fairly elegant.

The format is based on keywords and properties. The beginning of every line has a keyword which denotes what the line will define. After the initial keyword, more keywords can be placed in any order to define a number of properties of whatever is being defined. Sector loading is state based: sectors are defined by a begin keyword (and all the properties of the sector are defined on that line) and then any wall defined after a sector begin is assumed to be part of that sector.

Wall vertices can be defined by using absolute coordinates or by referencing a previously defined vertex.

However, the actual map loader turned out to be pretty messy. This was a product of my limited time, for the most part. I worked on map loading pretty late in the project, and I rushed through it a bit. The maploader.cpp file ended up being around 200 lines of code despite the simplicity of the file format it reads. If I had more time I may have tried to use a component based design to parse maps. Instead of a monolithic MapLoader, I could have used a WallLoader, SectorLoader, and VertexLoader class. At runtime these classes could be registered with the map loader and used to parse individual objects out of the file. This would have simplified the process of adding new objects to the file format – a process that is currently very difficult.

Here is a sort of gross section of maploader.cpp

{% highlight c++ %}
MapLoader::LineData MapLoader::parseLine(std::vector&lt;string&gt;&amp; line, Sector\* sector, float wscale, std::vector&lt;Vector2&gt;&amp; vertices) {

 LineData ld;

 std::vector&lt;string&gt; property\_data;

 for (unsigned int i = 0; i &lt; line.size(); ++i) {

  splitString(line[i], ASSIGN\_DELIM, property\_data);

  if (property\_data[0] == POSITION\_KEYWORD) {

   Vector2 v1, v2;

   parsePoint4(property\_data[1], v1, v2);

   ld.position[0] = v1 \* wscale;

   ld.position[1] = v2 \* wscale;

  }

  else if (property\_data[0] == WALL\_POS\_INDEX\_KEYWORD) {

   std::vector&lt;string&gt; pos\_data;

   splitString(property\_data[1], VALUE\_DELIM, pos\_data);

   ld.position[0] = vertices[parseReference(pos\_data[0])] \* wscale;

   ld.position[1] = vertices[parseReference(pos\_data[1])] \* wscale;

   std::cout &lt;&lt; &quot;parsed vert by index reference: &quot; &lt;&lt; ld.position[0].x &lt;&lt; &quot;, &quot; &lt;&lt; ld.position[1].y &lt;&lt; std::endl;

  }

  else if (property\_data[0] == COLOR\_KEYWORD) {

   ld.color = parseColor(property\_data[1]);

  }

  else if (property\_data[0] == PORTAL\_KEYWORD) {

   ld.portal = parseReference(property\_data[1]);

  }

  property\_data.clear();

 }

 ld.sector = sector;

 return ld;

}
{% endhighlight %}

### Conclusion

Overall, I am very happy with the way my project turned out. I had a really great time working on it, and I think it is super cool. I also learned a lot from it. I might revisit it later and try some more advanced rendering techniques (such as Duke Nukem&#39;s &quot;bunches&quot; technique) and maybe try to work out sprite rendering.

As far as my score on the project goes, it went pretty far beyond the requirements, and I was recognized by my instructor for outstanding work, which is pretty cool.